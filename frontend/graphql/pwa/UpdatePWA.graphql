mutation UpdatePWA($general_info: people_external_set_input!, $id: Int!, $pwa: pwas_insert_input!) {
  delete_pwas_by_pk(id: $id) {
    id
  }
  update_people_external_by_pk(pk_columns: {id: $id}, _set: $general_info) {
    id
  }

  insert_pwas_one(object: $pwa) {
    befrienders {
      volunteer {
        id
        general_info {
          name
        }
      }
    }
    comm_mode
    comm_diff {
      difficulty
    }
    contact_status
    hospital
    languages {
      language
    }
    last_contact_details
    media_engagement_details
    media_willingness
    nok {
      contact_num
      email
      name
      relationship
    }
    projects {
      project {
        id
        title
      }
    }
    pwa_befriender_cores {
      core_volunteer {
        id
        name
      }
    }
    speech_therapist
    stroke_date
    wheelchair
    id
    general_info {
      address
      bio
      channel
      consent
      contact_num
      date_joined
      dob
      email
      gender
      name
      notes
    }
  }
}

# variables:
#{
#  "id": 3,
#  "general_info": { #ONLY NEED INCLUDE THE FIELDS THAT ARE UPDATED
#    "address": "10 Sirat Place"
#  },
#  "pwa": { #THIS VARIABLE IS EXACTLY THE SAME AS THE PWA OBJECT INSIDE INSERT
#    "befrienders": {"data": []},
#    "comm_mode": "Whatsapp",
#    "comm_diff": {"data": [
#      {
#        "difficulty": "Speech"
#      }
#    ]},
#    "contact_status": "Contacted",
#    "hospital": "Tan Tock Seng",
#    "languages": { "data": [
#      {
#        "language": "English"
#      }
#    ]},
#    "media_engagement_details": "Friday",
#    "media_willingness": null,
#    "nok": {"data": [
#      {
#        "contact_num": 96831363,
#        "email": "nok1@aphasia.com",
#        "name": "Wong Lai Lih",
#        "relationship": "Mother"
#      }
#    ]},
#    "projects": {"data": []},
#    "pwa_befriender_cores": {"data": []},
#    "speech_therapist": "Evelyn",
#    "stroke_date": "2020-01-01",
#    "wheelchair": true,
#    "id": 3
#  }
#}
