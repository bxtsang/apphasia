mutation CreateAndUpdateVolProjectAssignment(
  $assignments: [project_pwa_vols_insert_input!]!,
  $project_id: Int!,
  $vol_id: Int!
){
  delete_project_pwa_vols(where: {
    project_id: {_eq: $project_id},
    vol_id:{_eq: $vol_id}
    }){
		returning {
      project_id,
      vol_id,
      pwa_id
    }
  }
  
  insert_project_pwa_vols(objects: $assignments) {
    returning {
      project {
        owner {
          id
          name
        }
        pwas {
          pwa {
            general_info {
              id
              name
            }
          }
        }
        upcoming_date
        is_recurring
        description
        id
        staffs {
          staff {
            id
            name
          }
        }
        volunteers {
          volunteer {
            general_info {
              id
              name
            }
          }
        }
        pwa_assigned_vols {
          pwa {
            general_info {
              id
              name
            }
          }
          volunteer {
            general_info {
              id
              name
            }
          }
        }
        pwa_assigned_staffs {
          pwa {
            general_info {
              id
              name
            }
          }
          staff {
            id
            name
          }
        }
        title
        google_drive_id
        voltypes
        is_active
        archive_reason
        display_pwa_registration
        display_vol_registration
      }
    }
  }
}
